![flow diagram](public/defs.jpg)

# DeFS

[![Go Reference](https://pkg.go.dev/badge/github.com/klauspost/reedsolomon.svg)](https://pkg.go.dev/github.com/DeFS/defs) [![Go](https://github.com/klauspost/reedsolomon/actions/workflows/go.yml/badge.svg)]()

DeFS(Decentralized file service) 去中心化文件服务，引领了数据存储领域的革新，通过引入动态存储技术，解决了传统静态存储和去中心化存储所面临的挑战。其核心设计理念是为用户提供更加高效、安全且可靠的数据存储解决方案。通过数据的自由流动和动态迁移，在去中心化的同时，又保障了数据的安全性和可靠性。

该项目目前正在积极开发中，处于 Alpha 状态。

## 文档

该文档正在编写中……


1. 分布式寻址机制
传统IPFS寻址与DeFS创新对比：

传统IPFS寻址：
    [内容请求] -> [DHT查询] -> [节点A] -> [节点B] -> [节点C] -> [目标节点]
                                |                                 |
                                |____________临近节点跳转___________|
                                
DeFS广播寻址：
                        ┌-> [节点1] --┐
    [内容请求] -> [广播] --> [节点2]   --> [索引清单] -> [直接下载]
                        └-> [节点3] --┘

2. 对偶节点存储

2.1 数据分布结构：
               [心跳检测]
    [原始节点] <---------> [对偶节点]
        |                     |
        |                     |
     [数据A]     镜像关系    [数据A']
        |                     |
    [状态监控] <---------> [状态监控]

2.2 故障恢复流程：
单节点故障：
    [故障检测] -> [新节点选择] -> [数据迁移] -> [关系重建]
        
双节点故障：
    [故障检测] -> [纠删码恢复] -> [选择新对偶对] -> [重建数据]
              -> [更新索引] -> [广播新位置]   

3. 智能节点选择
对偶节点匹配策略：

    对偶节点匹配矩阵：
                性能指标
         ┌─────────────────────┐
    位置  │   带宽   存储   延迟  │
    分布  │    ↑     ↑     ↓    │
         │   高优先级   低优先级  │
         └─────────────────────┘

    选择策略：
    [候选节点池] -> [评分矩阵] -> [筛选配对]
        ↓            ↓           ↓
    地理分布     性能评估    最优匹配

核心优势
1. 传输效率
性能对比：

性能对比：
IPFS: [请求] -> [1] -> [2] -> [3] -> [数据]  (多次跳转)
DeFS: [请求] ==========> [数据]  (直接传输)

2. 可靠性保障
双重保护机制：

双重保护：
[对偶备份] + [纠删码恢复]
     ↓           ↓
 实时保护     灾难恢复